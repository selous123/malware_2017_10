#coding:utf-8
import os

ROOT_PATH = "/home/lili/Tao_Zhang/dataset/img"
DES_PATH = "/home/lili/Tao_Zhang/dataset/img_test_code"
dir_list = ["train/malware","train/normal","test/malware","test/normal"]
num_list = [60,1000,50,1000]

def generate_dataset():
    for i,dir in enumerate(dir_list):
        source_dir = os.path.join(ROOT_PATH,dir)
        for j,path in enumerate(os.listdir(source_dir)):
            if j >= num_list[i]:
                break
            output_fp = open(os.path.join(DES_PATH,dir,path),"w")
            input_fp = open(os.path.join(source_dir,path),"r")
            output_fp.write(input_fp.read())
            
if __name__=="__main__":
    generate_dataset()